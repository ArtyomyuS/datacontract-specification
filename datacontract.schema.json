{
  "$id": "https://github.com/datamesh-architecture/datacontract-specification/datacontract.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Data Contract",
  "type": "object",
  "description": "A data contract is an agreement between a data product provider and a data product consumer.",
  "properties": {
    "id": {
      "type": "string",
      "required": true,
      "description": "The identifier of the data contract.",
      "example": "640864de-83d4-4619-afba-ccea8037ed3a"
    },
    "providerTeamId": {
      "type": "string",
      "required": false,
      "example": "6409a881-90c9-4fbb-8c89-d629e7c45e90"
    },
    "providerDataProductId": {
      "type": "string",
      "required": true,
      "example": "snowflake_orders_v2"
    },
    "providerOutputPortId": {
      "type": "string",
      "required": true,
      "example": "snowflake_search_queries_all_npii_v1"
    },
    "consumerDataProductId": {
      "type": "string",
      "required": true,
      "example": "user_profiles"
    },
    "consumerTeamId": {
      "type": "string",
      "required": false,
      "example": "9c721368-a61f-4a0d-b729-d00e4629a425"
    },
    "status": {
      "type": "string",
      "required": false,
      "example": "active",
      "x-extensible-enum": [
        "requested",
        "active",
        "expired",
        "rejected"
      ],
      "description": "Managed by Data Mesh Manager"
    },
    "purpose": {
      "type": "string",
      "required": false,
      "example": "Use orders to calculate payment amount"
    },
    "terms": {
      "type": "string",
      "required": false,
      "example": "The consumer calls the data product max 10 times per day."
    },
    "startDate": {
      "type": "string",
      "required": false,
      "format": "date",
      "example": "2023-01-01T00:00:00.000Z"
    },
    "endDate": {
      "type": "string",
      "required": false,
      "format": "date",
      "example": "2023-01-01T00:00:00.000Z"
    },
    "noticePeriod": {
      "type": "string",
      "required": false,
      "format": "period",
      "example": "P3M"
    },
    "nextReassessmentDate": {
      "type": "string",
      "required": false,
      "format": "date",
      "example": "2023-01-01T00:00:00.000Z"
    },
    "tags": {
      "type": "array",
      "required": false,
      "items": {
        "type": "string",
        "example": "business-critical"
      }
    },
    "links": {
      "type": "object",
      "required": false,
      "properties": {
        "schema": {
          "type": "string",
          "description": "The URL reference of the schema or specification for this output port.",
          "example": "https://catalog.example.com/search/search-queries"
        },
        "catalog": {
          "type": "string",
          "description": "The URL reference to a data catalog entry.",
          "example": "https://catalog.example.com/search/search-queries/"
        },
        "name": {
          "type": "string",
          "description": "Add your own links",
          "example": "link"
        }
      }
    },
    "custom": {
      "type": "object",
      "required": false,
      "properties": {
        "field": {
          "type": "string",
          "description": "Add custom fields",
          "example": "value"
        }
      }
    }
  }
}
